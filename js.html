<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock paper scissors</title>
</head>
<body>
<button onclick="
 rps('rock'); 
  ">Rock</button>
<button onclick="
rps('paper');
">paper</button>
<button onclick="
rps('scissors');
">scissors</button>
<button onclick="
score.win = 0;
score.loose =0;
score.tie =0;
localStorage.removeItem('score');
">Reset</button>


<script>

  let score = JSON.parse(localStorage.getItem('score')) || {
      win:0,loose:0,tie:0
    } ;
  
  function rps(choice){
let fin = '';
    let res = compgen();
 if(choice === 'rock'){
    
  if(res === 'rock'){
    fin = 'Tie.';
  }
  else if(res === 'paper'){
    fin = 'you loose';
  }
  else if(res === 'scissors'){
    fin = 'you win';
  }
}
  else if(choice === 'paper'){
    
  if(res === 'rock'){
    fin = 'you win';
  }
  else if(res === 'paper'){
    fin = 'Tie.';
  }
  else if(res === 'scissors'){
    fin = 'you loose';
  }

  }

  else if(choice === 'scissors'){
   
  if(res === 'rock'){
    fin = 'you loose';
  }
  else if(res === 'paper'){
    fin = 'you win';
  }
  else if(res === 'scissors'){
    fin = 'Tie.';
  }
  }

if(fin === 'you win'){
  score.win+=1;
}
else if(fin === 'you loose'){
  score.loose+=1;
}
else if(fin ==='Tie.'){
  score.tie+=1;
}

alert(`you choose ${choice}, computer choose ${res}, ${fin}
   Win:${score.win} Lose:${score.loose} Tie:${score.tie}`);
  
localStorage.setItem('score',JSON.stringify(score));
 


function compgen(){
  const compgen = Math.random();
  let res = ' ';

  if(compgen>=0 && compgen<1/3){
    res = 'rock';
  }
  else if(compgen>=1/3 && compgen<2/3){
    res = 'paper';
  }
  else if(compgen>2/3 && compgen<1){
    res = 'scissors';
  }
 return res;
}
  }

</script>
</body>
</html>
